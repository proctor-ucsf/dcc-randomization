<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Creating a Randomization Directory | Francis I. Proctor Foundation   Guide to Randomization</title>
  <meta name="description" content="This is a short guide for best (essential!) practices for trial randomization." />
  <meta name="generator" content="bookdown 0.21.6 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Creating a Randomization Directory | Francis I. Proctor Foundation   Guide to Randomization" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a short guide for best (essential!) practices for trial randomization." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Creating a Randomization Directory | Francis I. Proctor Foundation   Guide to Randomization" />
  
  <meta name="twitter:description" content="This is a short guide for best (essential!) practices for trial randomization." />
  

<meta name="author" content="Contributors: Ben Arnold" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="computing.html"/>
<link rel="next" href="sequences.html"/>
<script src="libs/header-attrs-2.7.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Guide to Randomization</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="1" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>1</b> Overview and Introduction</a></li>
<li class="chapter" data-level="2" data-path="computing.html"><a href="computing.html"><i class="fa fa-check"></i><b>2</b> A few comments on computing</a></li>
<li class="chapter" data-level="3" data-path="directory.html"><a href="directory.html"><i class="fa fa-check"></i><b>3</b> Creating a Randomization Directory</a></li>
<li class="chapter" data-level="4" data-path="sequences.html"><a href="sequences.html"><i class="fa fa-check"></i><b>4</b> Generating Randomization Sequences</a>
<ul>
<li class="chapter" data-level="4.1" data-path="sequences.html"><a href="sequences.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="sequences.html"><a href="sequences.html#simple-randomization"><i class="fa fa-check"></i><b>4.2</b> Simple randomization</a></li>
<li class="chapter" data-level="4.3" data-path="sequences.html"><a href="sequences.html#blockedrandomization"><i class="fa fa-check"></i><b>4.3</b> Blocked randomization</a></li>
<li class="chapter" data-level="4.4" data-path="sequences.html"><a href="sequences.html#stratified-randomization"><i class="fa fa-check"></i><b>4.4</b> Stratified randomization</a></li>
<li class="chapter" data-level="4.5" data-path="sequences.html"><a href="sequences.html#matched-randomization"><i class="fa fa-check"></i><b>4.5</b> Matched randomization</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="randomizationdiagnostics.html"><a href="randomizationdiagnostics.html"><i class="fa fa-check"></i><b>5</b> Randomization Diagnostics</a></li>
<li class="chapter" data-level="6" data-path="masking.html"><a href="masking.html"><i class="fa fa-check"></i><b>6</b> Masking</a></li>
<li class="chapter" data-level="7" data-path="allocationconcealment.html"><a href="allocationconcealment.html"><i class="fa fa-check"></i><b>7</b> Allocation Concealment</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Francis I. Proctor Foundation <br> Guide to Randomization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="directory" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Creating a Randomization Directory</h1>
<p><em>Contributors: Ben Arnold</em></p>
<p>The files used to generate a randomization sequence should live in one directory. They should be clearly labeled. They should include lots of comments and documentation to orient a new reader to their contents. The directory should include, at minimum:</p>
<table>
<caption><span id="tab:dirchecklist">Table 3.1: </span> Checklist of items that should be in the Randomization Directory</caption>
<colgroup>
<col width="22%" />
<col width="77%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Item</th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">____ 1.</td>
<td align="left">A metadata README file that describes all files in the directory.</td>
</tr>
<tr class="even">
<td align="center">____ 2.</td>
<td align="left">The script that generates the randomization sequence(s).</td>
</tr>
<tr class="odd">
<td align="center">____ 3.</td>
<td align="left">Randomization diagnostics (typically an output file from the script).</td>
</tr>
<tr class="even">
<td align="center">____ 4.</td>
<td align="left">The randomization sequence(s) generated, stored as <code>.csv</code> files.</td>
</tr>
<tr class="odd">
<td align="center">____ 5.</td>
<td align="left">The key that maps group labels to masked codes (masked trials only)</td>
</tr>
<tr class="even">
<td align="center">____ 6.</td>
<td align="left">A list of team members with access to the masked codes (masked trials only) and randomization sequence file(s)</td>
</tr>
</tbody>
</table>
<p>For unmasked randomization, we recommend creating a subdirectory within a trial’s parent directory called <code>Randomization</code>. In the hypothetical <code>MyTrial</code> study below, create a new subdirectory nested within:</p>
<blockquote>
<p><code>~/Box Sync/MyTrial/Randomization</code></p>
</blockquote>
<p>If the randomization sequence is masked, then we need to keep the randomization files separate from the main trial directory. Otherwise team members who should not know the mapping between treatment labels and masking codes could discover the link. The sequence could also be discoverable, and if a team member is involved in treating patients that could bias the allocation.</p>
<p>In masked trials, we recommend creating a parallel, shadow directory for the trial with restricted access permissions. We typically use the suffix <code>-unmasked-materials</code> to identify the restricted access directories. They should live on the same encrypted server as the trial’s main directory, e.g.:</p>
<blockquote>
<p><code>~/Box Sync/MyTrial-unmasked-materials/Randomization</code></p>
</blockquote>
<p>Note that an <code>-unmasked-materials</code> directory can contain other, sensitive, restricted access materials. Such as: interim analyses requested by the trial’s Data and Safety Monitoring Committee, and the primary analysis files/results up until the trial is unmasked.</p>
<p>We recommend the <code>-unmasked-materials</code> directory reside on a secure, cloud server that meets UCSF’s IT security standards. At this time, that includes Box and Microsoft OneDrive. The trial’s biostatistician should “own” the directory and should carefully control team member access. Restrict permissions/access to only team members who should have access (item #6, above). Do not create a shareable link to the directory or individual files within the directory.</p>
<p>If the randomization script is developed on GitHub, then the trial should maintain a secure repostitory that includes unmasked materials and is highly restricted. Additional details in the chapter on <a href="masking.html#masking">Masking</a>.</p>
<table>
<caption><span id="tab:unmaskeddir">Table 3.2: </span> Key Points for Restricted Access Directories in Masked Trials</caption>
<colgroup>
<col width="22%" />
<col width="77%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Key Points</th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="left">The trial’s biostatistician should control access to a trial’s directory of unmasked materials</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="left">At least 3 team members should have access to unmasked materials at all times</td>
</tr>
</tbody>
</table>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="computing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sequences.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["dcc-randomization.pdf", "dcc-randomization.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
